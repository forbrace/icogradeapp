<template>
  <v-app>
    <v-navigation-drawer
      temporary
      fixed
      v-model="drawer"
      app
    >
      <v-list>

        <v-list-tile v-for="item in menuItems" :key="item.title" router :to="item.link"
                     v-if="item.isShown">
          <v-list-tile-action>
            <v-icon>{{ item.icon }}</v-icon>
          </v-list-tile-action>
          <v-list-tile-content>
            <v-list-tile-title>{{ item.title }}</v-list-tile-title>
          </v-list-tile-content>
        </v-list-tile>

        <template v-if="userIsAuthenticated">
          <v-list-tile @click="signOut">
            <v-list-tile-action>
              <v-icon>exit_to_app</v-icon>
            </v-list-tile-action>
            <v-list-tile-content>
              <v-list-tile-title>Sign Out</v-list-tile-title>
            </v-list-tile-content>
          </v-list-tile>
        </template>
        <template v-else>
          <v-list-tile @click="signIn">
            <v-list-tile-action>
              <v-icon>lock</v-icon>
            </v-list-tile-action>
            <v-list-tile-content>
              <v-list-tile-title>Sign In</v-list-tile-title>
            </v-list-tile-content>
          </v-list-tile>
        </template>

      </v-list>
    </v-navigation-drawer>
    <v-toolbar color="light-blue darken-1" dark app>
      <v-toolbar-side-icon @click.native.stop="drawer = !drawer" class="hidden-sm-and-up"></v-toolbar-side-icon>
      <v-toolbar-title>
        <router-link to="/" tag="span" style="cursor: pointer">
          <v-layout align-center>
            <v-flex class="mr-2">
              <svg width="24" height="23" viewBox="0 0 24 23" xmlns="http://www.w3.org/2000/svg" style="display: block">
                <path
                  d="M23.5 21.32v1.18l-3.034-.99V1.49c.937-.306 1.96-.64 3.034-.989v20.82zM1.564 7.838v.07l-.064.02v-.069l.064-.02zm0 .404v.07l-.064.017V8.26l.064-.019zm0 .403v.07L1.5 8.73v-.07l.064-.016zm0 .404v.07L1.5 9.13v-.069l.064-.014zm0 .403v.07l-.064.01v-.068l.064-.012zm0 .404v.07l-.064.008v-.069l.064-.009zm0 .404v.07c-.022.001-.044.004-.064.006v-.069l.064-.007zm0 .403v.07a.646.646 0 0 0-.064.004v-.07c.02 0 .042-.002.064-.004zm0 .404v.07l-.064.001v-.069l.064-.002zm0 .402v.07H1.5v-.07h.064zm0 .404v.069a16.5 16.5 0 0 1-.064-.003v-.069l.064.003zm0 .403v.07L1.5 12.34v-.07l.064.005zm0 .404v.069L1.5 12.74v-.07l.064.008zm0 .403v.07l-.064-.01v-.068l.064.008zm0 .404v.069l-.064-.012v-.069l.064.012zm0 .403v.07l-.064-.014v-.07l.064.014zm0 .403v.07l-.064-.016v-.07l.064.016zm0 .404v.07a194.01 194.01 0 0 1-.064-.02v-.068l.064.018zm.442-7.006v.092l-.092.028V7.72l.092-.029zm0 .419v.09l-.092.025v-.09c.03-.01.06-.018.092-.026zm0 .419v.091l-.092.022V8.55l.092-.022zm0 .419v.091l-.092.019v-.091l.092-.02zm0 .417v.093l-.092.015V9.38l.092-.016zm0 .419v.092l-.092.013v-.092l.092-.013zm0 .42v.09l-.092.009v-.09l.092-.01zm0 .418v.092l-.092.006v-.091l.092-.007zm0 .418v.092c-.033 0-.061.002-.092.003v-.091l.092-.004zm0 .419v.09h-.092v-.09h.092zm0 .418v.091a13.796 13.796 0 0 0-.092-.003v-.091l.092.003zm0 .418v.092a19.733 19.733 0 0 1-.092-.007v-.091l.092.006zm0 .419v.091a5.746 5.746 0 0 1-.092-.01v-.09l.092.009zm0 .418v.092l-.092-.013v-.091l.092.012zm0 .42v.09l-.092-.015v-.091l.092.015zm0 .417v.092l-.092-.02v-.09l.092.018zm0 .42v.091l-.092-.023v-.09l.092.022zm0 .418v.092l-.092-.026v-.09l.092.024zm.475-7.275v.116a7.995 7.995 0 0 0-.12.037V7.57l.12-.038zm0 .436v.116c-.042.01-.081.021-.12.032V8l.12-.033zm0 .435v.116l-.12.028v-.114l.12-.03zm0 .435v.115l-.12.024v-.114l.12-.025zm0 .435v.116l-.12.02v-.115l.12-.021zm0 .434v.115l-.12.016v-.114l.12-.017zm0 .436v.116c-.042.004-.081.007-.12.012v-.115l.12-.013zm0 .434v.116l-.12.008v-.115l.12-.009zm0 .436v.116a73.81 73.81 0 0 0-.12.003v-.115l.12-.004zm0 .433v.116h-.12v-.115h.12zm0 .436v.115l-.12-.005v-.114l.12.004zm0 .434v.116a29.697 29.697 0 0 1-.12-.009v-.115l.12.008zm0 .435v.115a19.992 19.992 0 0 1-.12-.013v-.113l.12.011zm0 .435v.116a15.447 15.447 0 0 1-.12-.017v-.115l.12.016zm0 .434v.116a44.842 44.842 0 0 1-.12-.02V13.6l.12.02zm0 .436v.116a26.488 26.488 0 0 1-.12-.026v-.114l.12.024zm0 .435v.116l-.12-.03v-.114l.12.028zm0 .435v.116a15.32 15.32 0 0 1-.12-.034v-.114l.12.032zm.515-7.565v.142l-.156.047v-.14l.156-.05zm0 .452v.142l-.156.042v-.14l.156-.044zm0 .453v.141l-.156.037v-.14l.156-.038zm0 .453v.142c-.053.01-.106.02-.156.031v-.14l.156-.033zm0 .452v.142l-.156.026v-.14c.05-.01.103-.019.156-.028zm0 .453v.142l-.156.02v-.14l.156-.022zm0 .451v.143l-.156.016v-.142c.05-.005.103-.01.156-.017zm0 .454v.143l-.156.01v-.141l.156-.012zm0 .452v.143l-.156.004v-.14l.156-.007zm0 .452v.143l-.156-.001v-.141l.156-.001zm0 .453v.142l-.156-.006v-.14c.05 0 .103.002.156.004zm0 .452v.142l-.156-.012v-.14l.156.01zm0 .453v.142l-.156-.017v-.14l.156.015zm0 .452v.142l-.156-.022v-.14l.156.02zm0 .453v.142l-.156-.027v-.14l.156.025zm0 .452v.142l-.156-.032v-.14l.156.03zm0 .453v.143l-.156-.038v-.141l.156.036zm0 .453v.142l-.156-.043v-.14l.156.041zm.557-7.88v.17l-.192.059v-.17l.192-.06zm0 .472v.17c-.066.019-.13.036-.192.052V7.7l.192-.054zm0 .472v.17l-.192.045v-.167l.192-.048zm0 .472v.17l-.192.039V8.63l.192-.041zm0 .472v.17l-.192.031v-.167l.192-.034zm0 .471v.17c-.066.01-.13.018-.192.026V9.56l.192-.028zm0 .472v.17l-.192.02v-.169l.192-.02zm0 .47v.172l-.192.012v-.17c.062-.003.126-.008.192-.013zm0 .474v.17l-.192.005v-.168l.192-.007zm0 .472v.168l-.192-.001v-.166l.192-.001zm0 .47v.17l-.192-.008v-.168l.192.005zm0 .472v.17l-.192-.014v-.169l.192.013zm0 .471v.17l-.192-.02v-.169l.192.019zm0 .472v.17l-.192-.027v-.168l.192.025zm0 .471v.17l-.192-.034v-.168l.192.032zm0 .473v.171l-.192-.04v-.17l.192.039zm0 .472v.17l-.192-.048v-.167l.192.045zm0 .471v.17l-.192-.054v-.168l.192.052zm.607-8.22v.2l-.238.072v-.198l.238-.075zm0 .491v.202l-.238.063V7.53l.238-.067zm0 .493v.202l-.238.055v-.199l.238-.058zm0 .493v.202l-.238.046V8.5l.238-.05zm0 .492v.202l-.238.039v-.199l.238-.042zm0 .493v.202l-.238.03v-.198c.08-.01.156-.022.238-.034zm0 .492v.202l-.238.022v-.198l.238-.026zm0 .493v.202l-.238.014v-.198l.238-.018zm0 .492v.202l-.238.006v-.198l.238-.01zm0 .493v.2l-.238-.002v-.196l.238-.002zm0 .491v.202a49.104 49.104 0 0 1-.238-.01v-.198l.238.006zm0 .493v.201l-.238-.018v-.198l.238.015zm0 .492v.203l-.238-.026v-.2l.238.023zm0 .492v.202l-.238-.034v-.198l.238.03zm0 .493v.202l-.238-.042v-.199l.238.04zm0 .494v.2l-.238-.05v-.198l.238.048zm0 .492v.201l-.238-.059v-.198l.238.056zm0 .492v.202l-.238-.067v-.198l.238.063zm.662-8.593v.235a77.93 77.93 0 0 0-.288.086v-.23l.288-.091zm0 .515V7.5l-.288.077v-.23c.094-.028.191-.055.288-.082zm0 .515v.236l-.288.067v-.232l.288-.071zm0 .516v.235l-.288.057v-.23l.288-.062zm0 .515v.236l-.288.047v-.231l.288-.052zm0 .515v.236l-.288.037v-.231l.288-.042zm0 .516v.235l-.288.027v-.23l.288-.032zm0 .515v.235l-.288.017v-.23l.288-.022zm0 .515v.236l-.288.007v-.23l.288-.013zm0 .515v.235l-.288-.003v-.23l.288-.002zm0 .514v.235l-.288-.012v-.23l.288.007zm0 .516v.235l-.288-.022v-.23c.094.005.191.01.288.017zm0 .514v.236l-.288-.032v-.231l.288.027zm0 .516v.235a85.302 85.302 0 0 1-.288-.041v-.231l.288.037zm0 .515v.235c-.097-.017-.194-.034-.288-.052v-.23l.288.047zm0 .515v.236l-.288-.062v-.23l.288.056zm0 .516v.236l-.288-.072v-.23l.288.066zm0 .515v.236l-.288-.082v-.23l.288.076zm.728-9.002v.273l-.35.105v-.266l.35-.112zm0 .54v.272l-.35.093v-.266l.35-.099zm0 .54v.273l-.35.081v-.267l.35-.087zm0 .542V8.4l-.35.07v-.267l.35-.075zm0 .54v.272l-.35.057V8.73l.35-.063zm0 .54v.273l-.35.044V9.26l.35-.05zm0 .54v.272l-.35.033v-.266l.35-.039zm0 .54v.273l-.35.021v-.266l.35-.027zm0 .54v.272l-.35.009v-.266l.35-.015zm0 .54v.272l-.35-.003v-.266l.35-.003zm0 .54v.272l-.35-.015V11.9l.35.009zm0 .54v.272l-.35-.027v-.266l.35.02zm0 .54v.273l-.35-.04v-.266l.35.034zm0 .54v.274l-.35-.051v-.268l.35.045zm0 .542v.272l-.35-.064v-.265l.35.057zm0 .539v.272l-.35-.075v-.266l.35.069zm0 .54v.273l-.35-.087v-.267l.35.082zm0 .541v.273l-.35-.1v-.266l.35.093zm.803-9.452v.312l-.42.126v-.304l.42-.134zm0 .568v.314l-.42.111v-.305c.136-.04.275-.078.42-.12zm0 .569v.312l-.42.097V7.48c.136-.035.275-.07.42-.105zm0 .566v.314l-.42.083V8.03c.136-.03.275-.06.42-.09zm0 .57v.313l-.42.067v-.305l.42-.076zm0 .566v.314l-.42.053V9.14l.42-.062zm0 .569v.313l-.42.04v-.306l.42-.047zm0 .567v.312l-.42.025v-.304l.42-.033zm0 .568v.314l-.42.01V10.8l.42-.019zm0 .569v.31l-.42-.004v-.302l.42-.004zm0 .565v.313l-.42-.018v-.306l.42.01zm0 .568v.313c-.145-.01-.284-.022-.42-.033v-.305l.42.025zm0 .567v.315l-.42-.048v-.306l.42.04zm0 .569v.313l-.42-.062v-.305l.42.054zm0 .567v.313l-.42-.076v-.306l.42.069zm0 .57v.311c-.145-.03-.284-.06-.42-.09v-.305c.136.028.275.055.42.083zm0 .566v.313l-.42-.105v-.305l.42.097zm0 .568v.313c-.145-.041-.284-.08-.42-.12v-.305l.42.112zm.88-9.946v.359l-.5.149v-.348l.5-.16zm0 .599V6.9c-.17.045-.336.09-.5.132v-.347l.5-.142zm0 .597V7.5l-.5.115v-.349l.5-.125zm0 .599v.358l-.5.098v-.348l.5-.108zm0 .596v.36l-.5.08v-.349l.5-.09zm0 .6v.358l-.5.064v-.349l.5-.073zm0 .597v.358l-.5.046V9.59l.5-.057zm0 .599v.358l-.5.03v-.349l.5-.04zm0 .598v.358l-.5.011v-.347l.5-.022zm0 .598v.356l-.5-.005v-.346l.5-.005zm0 .596v.359a278.6 278.6 0 0 1-.5-.023v-.348l.5.012zm0 .598v.36c-.17-.014-.336-.028-.5-.04v-.35l.5.03zm0 .598v.359l-.5-.057v-.348l.5.046zm0 .598v.358l-.5-.074v-.348l.5.064zm0 .598v.359l-.5-.092v-.348l.5.081zm0 .599v.357l-.5-.108v-.347l.5.098zm0 .598v.358l-.5-.126v-.347l.5.115zm0 .598v.358l-.5-.143v-.348l.5.133zm.988-10.496v.409l-.607.18v-.396c.198-.062.403-.127.607-.193zm0 .633v.408l-.607.16V6.42l.607-.172zm0 .632v.408l-.607.138v-.394l.607-.152zm0 .631v.41l-.607.117V7.64l.607-.13zm0 .633v.408l-.607.097v-.395l.607-.11zm0 .631v.408l-.607.076v-.395l.607-.089zm0 .633v.407l-.607.056v-.395l.607-.068zm0 .63v.41l-.607.034v-.395l.607-.048zm0 .633v.41l-.607.013v-.396l.607-.027zm0 .633v.405l-.607-.007v-.392l.607-.006zm0 .63v.409c-.204-.01-.41-.02-.607-.028v-.395l.607.014zm0 .63v.411l-.607-.048v-.397l.607.035zm0 .632v.41l-.607-.07v-.395l.607.055zm0 .633v.409l-.607-.09v-.396c.198.025.403.05.607.077zm0 .631v.409l-.607-.111v-.395l.607.097zm0 .633v.408l-.607-.131v-.395c.198.038.403.077.607.118zm0 .632v.408l-.607-.153v-.394l.607.139zm0 .632v.41c-.204-.06-.41-.117-.607-.174v-.395c.198.052.403.105.607.16zM9.33 5.244v.465l-.726.216v-.448l.726-.233zm0 .67v.465l-.726.19v-.446l.726-.208zm0 .67v.465l-.726.166v-.448l.726-.183zm0 .67v.464l-.726.141v-.446l.726-.159zm0 .67v.465l-.726.116v-.448l.726-.133zm0 .67v.464l-.726.091v-.446l.726-.109zm0 .67v.465l-.726.066v-.448l.726-.083zm0 .67v.466l-.726.04v-.447c.231-.02.475-.039.726-.059zm0 .671v.464l-.726.016v-.447l.726-.033zm0 .67v.462l-.726-.009v-.445l.726-.009zm0 .667v.464l-.726-.033v-.447l.726.016zm0 .67v.465l-.726-.059v-.448l.726.042zm0 .67v.465l-.726-.083v-.448l.726.066zm0 .67v.465l-.726-.109v-.448c.231.03.475.06.726.091zm0 .67v.465l-.726-.133v-.448l.726.116zm0 .67v.465l-.726-.159v-.447l.726.142zm0 .67v.465l-.726-.183v-.448l.726.166zm0 .67v.464l-.726-.208v-.447l.726.191zm1.247-11.805v.53l-.878.258V5.11c.287-.091.57-.183.878-.282zm0 .714v.529l-.878.229v-.507c.287-.081.57-.163.878-.251zm0 .713v.528L9.7 6.98v-.505l.878-.222zm0 .712v.529l-.878.169v-.507l.878-.19zm0 .713v.528l-.878.139V7.84l.878-.162zm0 .712v.53l-.878.108v-.506l.878-.132zm0 .714v.529l-.878.079v-.507l.878-.101zm0 .712v.529l-.878.049v-.507l.878-.071zm0 .713v.53l-.878.018v-.507l.878-.04zm0 .714v.525l-.878-.012v-.503l.878-.01zm0 .709v.529a913.04 913.04 0 0 1-.878-.042v-.506l.878.019zm0 .715v.527l-.878-.071v-.506l.878.05zm0 .71v.53l-.878-.102v-.507l.878.08zm0 .714v.529l-.878-.132v-.507l.878.11zm0 .712l-.002.529-.876-.162v-.507l.878.14zm-.002.713v.53l-.876-.193v-.507l.876.17zm0 .715v.526l-.876-.222v-.504l.876.2zm0 .71v.53l-.876-.253v-.506l.876.23zm1.417-12.587v.601l-1.056.312v-.573l1.056-.34zm0 .76v.602l-1.056.275V5.42c.343-.1.693-.2 1.056-.304zm0 .763v.601l-1.056.239v-.572l1.056-.268zm0 .762v.6l-1.056.204V6.87l1.056-.231zm0 .76v.602l-1.056.166v-.573l1.056-.195zm0 .76v.604l-1.056.13V8.32l1.056-.16zm0 .763v.601l-1.056.094v-.572l1.056-.123zm0 .762v.601l-1.056.058V9.77l1.056-.086zm0 .76v.602l-1.056.021v-.572l1.056-.05zm0 .763v.598l-1.056-.015v-.57l1.056-.013zm0 .759v.6l-1.056-.05v-.573l1.056.023zm0 .76v.601l-1.056-.087v-.572l1.056.058zm0 .764v.6l-1.056-.124v-.571l1.056.095zm0 .759v.6l-1.056-.159v-.572l1.056.13zm0 .762v.601l-1.056-.196v-.573l1.056.168zm0 .76v.601l-1.056-.232v-.572l1.056.203zm0 .762v.601l-1.056-.268v-.573l1.056.24zm0 .762v.602c-.363-.106-.713-.206-1.056-.305v-.573l1.056.276zm1.621-13.484v.684l-1.272.375v-.648l1.272-.41zm0 .818v.684l-1.272.33v-.647c.403-.116.836-.24 1.272-.367zm0 .818v.68c-.436.1-.87.197-1.272.288v-.645l1.272-.323zm0 .816v.684l-1.272.244v-.648l1.272-.28zm0 .818v.684l-1.272.2v-.648l1.272-.236zm0 .816v.684l-1.272.156V8.09l1.272-.193zm0 .816V9.4l-1.272.112v-.649l1.272-.149zm0 .818v.684l-1.272.069v-.648l1.272-.105zm0 .818v.684l-1.272.025v-.648l1.272-.062zm0 .817v.681l-1.272-.018v-.645l1.272-.018zm0 .815v.682l-1.272-.062v-.646l1.272.026zm0 .816v.684l-1.272-.106v-.647c.403.022.836.045 1.272.07zm0 .816v.684c-.436-.05-.87-.102-1.272-.149v-.648l1.272.113zm0 .818v.684l-1.272-.193v-.648l1.272.157zm0 .816v.684l-1.272-.237v-.647l1.272.2zm0 .818v.684l-1.272-.28v-.648l1.272.244zm0 .818v.682l-1.272-.324v-.646c.403.09.836.189 1.272.288zm0 .816v.684l-1.272-.368v-.648l1.272.332zm1.888-14.517v.78l-1.567.46V3.69l1.567-.507zm0 .883v.777l-1.567.405v-.73c.5-.143 1.02-.294 1.567-.452zm0 .879v.782l-1.567.352v-.735l1.567-.4zm0 .884v.778l-1.567.299v-.731l1.567-.346zm0 .88v.781l-1.567.245v-.733l1.567-.292zm0 .884v.78l-1.567.19v-.732l1.567-.238zm0 .88v.78l-1.567.137v-.732l1.567-.185zm0 .883v.78l-1.567.083v-.733l1.567-.13zm0 .882v.777l-1.567.03v-.73l1.567-.077zm0 .88v.778l-1.567-.024v-.731l1.567-.023zm0 .88v.779l-1.567-.078v-.731l1.567.03zm0 .881v.78l-1.567-.131v-.733l1.567.084zm0 .883v.78l-1.567-.185v-.733l1.567.138zm0 .882v.78l-1.567-.239v-.732l1.567.191zm0 .881v.78l-1.567-.293v-.732l1.567.245zm0 .883v.78l-1.567-.347v-.733l1.567.3zm0 .88v.78l-1.567-.4v-.732l1.567.353zm0 .883v.779l-1.567-.455v-.73l1.567.406zm2.213-15.727v.891l-1.943.569v-.83l1.943-.63zm0 .957v.891l-1.943.502v-.829l1.943-.564zm0 .959v.89l-1.943.436v-.83l1.943-.496zm0 .957v.893c-.693.13-1.318.25-1.943.368v-.831l1.943-.43zm0 .958v.893l-1.943.302v-.831l1.943-.364zm0 .957v.893l-1.943.235v-.831l1.943-.297zm0 .958v.893l-1.943.169V8.42c.625-.074 1.25-.149 1.943-.23zm0 .959v.89l-1.943.101v-.827l1.943-.164zm0 .957v.891l-1.943.035v-.829l1.943-.097zm0 .958v.888l-1.943-.031v-.826l1.943-.03zm0 .953v.893l-1.943-.098v-.83l1.943.035zm0 .96v.892l-1.943-.165v-.83l1.943.102zm0 .956v.895l-1.943-.232v-.832l1.943.169zm0 .958v.893l-1.943-.298v-.83l1.943.235zm0 .959v.891l-1.943-.364v-.83l1.943.303zm0 .957v.893l-1.943-.432v-.83l1.943.369zm0 .958v.892c-.693-.178-1.318-.339-1.943-.498v-.83l1.943.436zm0 .957v.893l-1.943-.565v-.83c.625.16 1.25.323 1.943.502zm2.613-17.151v1.024l-2.395.699V2.35l2.395-.78zm0 1.046v1.026l-2.395.617v-.946l2.395-.697zm0 1.048v1.027l-2.395.534V4.28l2.395-.615zm0 1.049v1.024l-2.395.452v-.944l2.395-.532zm0 1.046v1.026l-2.395.37V6.21l2.395-.45zm0 1.048v1.027l-2.395.287v-.946l2.395-.368zm0 1.047V8.88l-2.395.206V8.14c.748-.09 1.557-.187 2.395-.286zm0 1.048v1.024l-2.395.124v-.944l2.395-.204zm0 1.046v1.027l-2.395.04v-.945l2.395-.122zm0 1.049v1.022l-2.395-.04v-.943l2.395-.04zm0 1.044v1.024l-2.395-.123V12l2.395.043zm0 1.046v1.026l-2.395-.205v-.945l2.395.124zm0 1.048v1.029l-2.395-.288v-.947l2.395.206zm0 1.047v1.026l-2.395-.37v-.945l2.395.289zm0 1.048v1.026l-2.395-.451v-.946l2.395.371zm0 1.048v1.025l-2.395-.534v-.944l2.395.453zm0 1.047v1.026l-2.395-.616v-.946l2.395.536zm0 1.048v1.024l-2.395-.697v-.945l2.395.618zM1.564 15.1v.07l-.064-.022v-.068l.064.02zm.442.124v.092l-.092-.029v-.09l.092.027zm.475.136v.116a38.738 38.738 0 0 1-.12-.038v-.115l.12.037zm.515.145v.143l-.156-.05v-.14l.156.047zm.557.159v.17l-.192-.06v-.168l.192.058zm.607.171v.202l-.238-.075v-.198l.238.071zm.662.189v.235l-.288-.091v-.231l.288.087zm.728.206v.272c-.119-.037-.235-.075-.35-.11v-.267l.35.105zm.803.228v.313l-.42-.134v-.305l.42.126zm.88.25v.359l-.5-.16v-.35l.5.15zm.988.28v.41l-.607-.194v-.397l.607.18zm1.109.314v.465l-.726-.234v-.448l.726.217zm1.245.354v.529c-.308-.1-.592-.19-.876-.283v-.506l.876.26zm1.417.4v.602l-1.056-.341v-.573l1.056.313zm1.621.461v.684l-1.271-.411v-.648l1.271.375zm1.888.535v.78l-1.567-.508v-.733l1.567.461zm2.213.629v.893l-1.943-.632v-.83l1.943.569zm2.613.74v1.026l-2.395-.78v-.946c.748.218 1.557.454 2.395.7z"
                  fill-rule="evenodd" fill="#fff"></path>
              </svg>
            </v-flex>
            <v-flex>
              IcoGradeApp
            </v-flex>
          </v-layout>
        </router-link>
      </v-toolbar-title>

      <v-spacer></v-spacer>
      <v-toolbar-items class="hidden-xs-only">
        <v-btn flat v-for="item in menuItems" :key="item.title"
               router :to="item.link" exact v-if="item.isShown">
          <v-icon left>{{ item.icon }}</v-icon>
          {{ item.title }}
        </v-btn>
        <template v-if="userIsAuthenticated">
          <v-btn flat @click="signOut">
            <v-icon left>exit_to_app</v-icon>
            Sign Out
          </v-btn>
        </template>
        <template v-else>
          <v-btn flat @click="signIn">
            <v-icon left>lock</v-icon>
            Sign In
          </v-btn>
        </template>
      </v-toolbar-items>

    </v-toolbar>
    <v-content>

      <v-container fluid v-if="error">
        <v-layout row>
          <v-flex xs12>
            <alert @dismiss="onDismiss" :text="error.message"/>
          </v-flex>
        </v-layout>
      </v-container>

      <router-view></router-view>


    </v-content>
    <v-footer color="light-blue darken-1" app class="px-4">
      <v-spacer></v-spacer>
      <span class="white--text">IcoGradeApp &copy; {{ new Date().getFullYear() }}</span>
    </v-footer>

  </v-app>
</template>

<script>
  export default {
    data: () => ({
      drawer: false,
      dialog: false,
      userName: '',
      userEmail: '',
      userFeedback: '',
      feedbackAlertMessage: ''
    }),
    props: {
      source: String
    },
    computed: {
      menuItems () {
        if (this.userIsAuthenticated) {
          return [
            {
              icon: 'add',
              title: 'New Grade',
              link: '/',
              isShown: true
            },
            {
              icon: 'star',
              title: 'My ICO’s',
              link: '/icos',
              isShown: this.icos.length
            }
          ]
        }
      },
      user () {
        return this.$store.getters.user
      },
      userIsAuthenticated () {
        return this.$store.getters.user !== null && this.$store.getters.user !== undefined
      },
      error () {
        return this.$store.getters.error
      },
      icos () {
        return this.$store.getters.loadedIcos // fix to user loaded Icos only
      }
    },
    methods: {
      signIn () {
        this.$store.dispatch('googleSignIn')
      },
      signOut () {
        this.$store.dispatch('googleSignOut')
      },
      onDismiss () {
        this.$store.dispatch('clearError')
      }
    }
  }
</script>
